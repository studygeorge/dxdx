# üìÖ ROI ACTIVATION SCHEDULE - –ê–∫—Ç–∏–≤–∞—Ü–∏—è ROI –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

## üéØ –ù–û–í–ê–Ø –ë–ò–ó–ù–ï–°-–õ–û–ì–ò–ö–ê

### –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞:
```
–†–µ–∏–Ω–≤–µ—Å—Ç/–ê–ø–≥—Ä–µ–π–¥ ‚Üí –ù–æ–≤—ã–π ROI —Å–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è ‚ùå
```

### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:
```
–†–µ–∏–Ω–≤–µ—Å—Ç/–ê–ø–≥—Ä–µ–π–¥ ‚Üí –ù–æ–≤—ã–π ROI —Å 15-–≥–æ –∏–ª–∏ 30-–≥–æ —á–∏—Å–ª–∞ ‚úÖ
–î–æ —ç—Ç–æ–π –¥–∞—Ç—ã ‚Üí –°—Ç–∞—Ä—ã–π ROI –Ω–∞ —Å—Ç–∞—Ä—É—é —Å—É–º–º—É
```

---

## üìä –ü–†–ê–í–ò–õ–ê –ê–ö–¢–ò–í–ê–¶–ò–ò

### –î–∞—Ç—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏: 15-–µ –∏ 30-–µ —á–∏—Å–ª–æ (28-–µ –¥–ª—è —Ñ–µ–≤—Ä–∞–ª—è)

| –î–∞—Ç–∞ —Ä–µ–∏–Ω–≤–µ—Å—Ç–∞ | –ë–ª–∏–∂–∞–π—à–∞—è –¥–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ |
|----------------|--------------------------|
| 1-14 —è–Ω–≤–∞—Ä—è | 15 —è–Ω–≤–∞—Ä—è |
| 15-29 —è–Ω–≤–∞—Ä—è | 30 —è–Ω–≤–∞—Ä—è |
| 30-31 —è–Ω–≤–∞—Ä—è | 15 —Ñ–µ–≤—Ä–∞–ª—è |
| 1-14 —Ñ–µ–≤—Ä–∞–ª—è | 15 —Ñ–µ–≤—Ä–∞–ª—è |
| 15-27 —Ñ–µ–≤—Ä–∞–ª—è | 28 —Ñ–µ–≤—Ä–∞–ª—è |
| 28-29 —Ñ–µ–≤—Ä–∞–ª—è | 15 –º–∞—Ä—Ç–∞ |
| 1-14 –º–∞—Ä—Ç–∞ | 15 –º–∞—Ä—Ç–∞ |
| 15-29 –º–∞—Ä—Ç–∞ | 30 –º–∞—Ä—Ç–∞ |
| 30-31 –º–∞—Ä—Ç–∞ | 15 –∞–ø—Ä–µ–ª—è |

### –ü—Ä–∏–º–µ—Ä—ã:

#### –ü—Ä–∏–º–µ—Ä 1: –†–µ–∏–Ω–≤–µ—Å—Ç 10 —è–Ω–≤–∞—Ä—è
```
–¢–µ–∫—É—â–∞—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è: $1000, 17% (Advanced)
–†–µ–∏–Ω–≤–µ—Å—Ç: $85
–ù–æ–≤–∞—è —Å—É–º–º–∞: $1085

üìÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ ROI: 15 —è–Ω–≤–∞—Ä—è
‚è≥ –î–æ 15 —è–Ω–≤–∞—Ä—è: 17% –Ω–∞ $1000
‚úÖ –° 15 —è–Ω–≤–∞—Ä—è: 17% –Ω–∞ $1085
```

#### –ü—Ä–∏–º–µ—Ä 2: –ê–ø–≥—Ä–µ–π–¥ 20 —è–Ω–≤–∞—Ä—è
```
–¢–µ–∫—É—â–∞—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è: $2900, 17% (Advanced)
–†–µ–∏–Ω–≤–µ—Å—Ç: $290
–ù–æ–≤–∞—è —Å—É–º–º–∞: $3190
–ê–ø–≥—Ä–µ–π–¥: Advanced ‚Üí Pro (20%)

üìÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ ROI: 30 —è–Ω–≤–∞—Ä—è
‚è≥ –î–æ 30 —è–Ω–≤–∞—Ä—è: 17% –Ω–∞ $2900
‚úÖ –° 30 —è–Ω–≤–∞—Ä—è: 20% –Ω–∞ $3190
```

#### –ü—Ä–∏–º–µ—Ä 3: –†–µ–∏–Ω–≤–µ—Å—Ç 31 –¥–µ–∫–∞–±—Ä—è
```
–¢–µ–∫—É—â–∞—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è: $5000, 20% (Pro)
–†–µ–∏–Ω–≤–µ—Å—Ç: $500
–ù–æ–≤–∞—è —Å—É–º–º–∞: $5500

üìÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ ROI: 15 —è–Ω–≤–∞—Ä—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞
‚è≥ –î–æ 15 —è–Ω–≤–∞—Ä—è: 20% –Ω–∞ $5000
‚úÖ –° 15 —è–Ω–≤–∞—Ä—è: 20% –Ω–∞ $5500
```

---

## üíª FRONTEND –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### –§–∞–π–ª—ã:

#### 1. `utils/roiActivation.js` (–Ω–æ–≤—ã–π)
–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –¥–∞—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:

```javascript
// –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
getNextActivationDate(reinvestDate)  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Date –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
getDaysUntilActivation(reinvestDate) // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–∏—Å–ª–æ –¥–Ω–µ–π
formatActivationDate(reinvestDate, language) // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–∞—Ç—É
getActivationHintText(reinvestDate, language) // –¢–µ–∫—Å—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏
isNewROIActive(reinvestDate, checkDate) // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
```

#### 2. `ReinvestModal.js` (–æ–±–Ω–æ–≤–ª—ë–Ω)
–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–∞—Ç–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:

```javascript
// –ù–æ–≤—ã–π –±–ª–æ–∫ –≤ UI:
üìÖ New rate will be applied from January 30, 2024 (in 10 days)
Until this date, 17% will be earned on $2900.00
```

#### 3. `InvestingTab/index.js` (–æ–±–Ω–æ–≤–ª—ë–Ω)
–ü–µ—Ä–µ–¥–∞—ë—Ç `language` prop –≤ ReinvestModal.

---

## üîß BACKEND –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### ‚ö†Ô∏è –í–ê–ñ–ù–û: Backend –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—É –∂–µ –ª–æ–≥–∏–∫—É!

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ backend:

#### 1. –¢–∞–±–ª–∏—Ü–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π - –Ω–æ–≤—ã–µ –ø–æ–ª—è:
```sql
ALTER TABLE investments ADD COLUMN pending_roi DECIMAL(5,2);
ALTER TABLE investments ADD COLUMN pending_amount DECIMAL(15,2);
ALTER TABLE investments ADD COLUMN roi_activation_date DATE;
```

#### 2. –õ–æ–≥–∏–∫–∞ —Ä–µ–∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
```javascript
// –ü—Å–µ–≤–¥–æ–∫–æ–¥:
async function reinvestProfit(investmentId, amount) {
  const investment = await getInvestment(investmentId)
  const currentAmount = investment.amount
  const currentROI = investment.roi
  
  const newAmount = currentAmount + amount
  const newPackage = getPackageByAmount(newAmount)
  const newROI = calculateROI(newPackage, investment.duration)
  
  // –í—ã—á–∏—Å–ª—è–µ–º –¥–∞—Ç—É –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
  const activationDate = getNextActivationDate(new Date())
  
  // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—é
  await updateInvestment(investmentId, {
    pending_amount: newAmount,
    pending_roi: newROI,
    roi_activation_date: activationDate
    // amount –∏ roi –ù–ï –º–µ–Ω—è–µ–º –¥–æ –¥–∞—Ç—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏!
  })
  
  return { success: true, activationDate }
}
```

#### 3. Cron job - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:
```javascript
// –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 00:01
async function activatePendingROI() {
  const today = new Date()
  today.setHours(0, 0, 0, 0)
  
  // –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ —Å –¥–∞—Ç–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–µ–≥–æ–¥–Ω—è
  const pendingInvestments = await db.query(`
    SELECT * FROM investments 
    WHERE roi_activation_date = ? 
    AND pending_roi IS NOT NULL
  `, [today])
  
  for (const investment of pendingInvestments) {
    // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –Ω–æ–≤—ã–π ROI
    await db.query(`
      UPDATE investments 
      SET 
        amount = pending_amount,
        roi = pending_roi,
        pending_amount = NULL,
        pending_roi = NULL,
        roi_activation_date = NULL
      WHERE id = ?
    `, [investment.id])
    
    console.log(`‚úÖ ROI activated for investment ${investment.id}`)
  }
}
```

#### 4. –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ - —É—á–∏—Ç—ã–≤–∞–µ–º pending:
```javascript
async function calculateDailyInterest(investmentId) {
  const investment = await getInvestment(investmentId)
  const today = new Date()
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –ª–∏ —É–∂–µ –Ω–æ–≤—ã–π ROI
  if (investment.roi_activation_date && today < investment.roi_activation_date) {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ä—ã–π ROI –Ω–∞ —Å—Ç–∞—Ä—É—é —Å—É–º–º—É
    const dailyInterest = (investment.amount * investment.roi) / 100 / 30
    return dailyInterest
  } else if (investment.pending_roi) {
    // –ù–æ–≤—ã–π ROI —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
    const dailyInterest = (investment.pending_amount * investment.pending_roi) / 100 / 30
    return dailyInterest
  } else {
    // –û–±—ã—á–Ω—ã–π —Ä–∞—Å—á—ë—Ç
    const dailyInterest = (investment.amount * investment.roi) / 100 / 30
    return dailyInterest
  }
}
```

---

## üîç –ü–†–û–í–ï–†–ö–ê –†–ê–ë–û–¢–´

### Frontend (—Å–µ–π—á–∞—Å):
1. –û—Ç–∫—Ä—ã—Ç—å: https://dxcapital-ai.com/profile
2. –ù–∞–∂–∞—Ç—å: "Reinvest Profit" –Ω–∞ –ª—é–±–æ–π –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
3. –í–≤–µ—Å—Ç–∏ —Å—É–º–º—É —Ä–µ–∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ ‚úÖ
5. **–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞:**
   ```
   üìÖ New rate will be applied from January 30, 2024 (in 10 days)
   Until this date, 17% will be earned on $2900.00
   ```

### Backend (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏):
1. –†–µ–∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–±—ã–ª—å
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î:
   - `pending_amount` = –Ω–æ–≤–∞—è —Å—É–º–º–∞
   - `pending_roi` = –Ω–æ–≤—ã–π ROI
   - `roi_activation_date` = 15-–µ –∏–ª–∏ 30-–µ —á–∏—Å–ª–æ
   - `amount` –∏ `roi` –ù–ï –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
3. –î–æ–∂–¥–∞—Ç—å—Å—è –¥–∞—Ç—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î:
   - `amount` = `pending_amount`
   - `roi` = `pending_roi`
   - `pending_*` –ø–æ–ª—è = NULL

---

## üì¶ –ö–û–ú–ú–ò–¢ INFO

- **Commit:** `9d60f19`
- **Message:** "feat: ROI activation on 15th or 30th after reinvest/upgrade"
- **Files:**
  - `utils/roiActivation.js` (–Ω–æ–≤—ã–π)
  - `ReinvestModal.js` (–æ–±–Ω–æ–≤–ª—ë–Ω)
  - `InvestingTab/index.js` (–æ–±–Ω–æ–≤–ª—ë–Ω)

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û –î–õ–Ø BACKEND –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê

1. **–ù–µ –º–µ–Ω—è–π—Ç–µ `amount` –∏ `roi` —Å—Ä–∞–∑—É –ø—Ä–∏ —Ä–µ–∏–Ω–≤–µ—Å—Ç–µ!**
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pending_*` –ø–æ–ª—è –¥–æ –¥–∞—Ç—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏**
3. **–°–æ–∑–¥–∞–π—Ç–µ cron job –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é**
4. **–£—á–∏—Ç—ã–≤–∞–π—Ç–µ pending –ø–æ–ª—è –ø—Ä–∏ —Ä–∞—Å—á—ë—Ç–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤**
5. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É —Å `roiActivation.js`**

---

## üéâ –ì–û–¢–û–í–û!

- **Frontend:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **Backend:** ‚è≥ –¢—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **Repository:** https://github.com/studygeorge/dxdx
- **Branch:** main
- **Last commit:** 9d60f19

Frontend –≥–æ—Ç–æ–≤, backend –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ —ç—Ç–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏! üöÄ
